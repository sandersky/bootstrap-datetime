!function(){function a(a){y.find('[data-id="time-btn"]').removeClass("active"),y.find('[data-id="date-btn"]').addClass("active"),y.find('[data-id="time-content"], [data-id="now-btn"]').hide(),y.find('.popover-title, [data-id="date-content"], [data-id="today-btn"]').show(),x=a.month(),C=a.year();var b=moment(a).startOf("month"),c=moment(a).endOf("month");B.text(moment.months()[x]+" "+C);var d,f=0,g="<tr>";for(d=0;d<b.day();d++)g+="<td></td>",f++;for(d=0;d<c.date();d++)7==f&&(g+="</tr><tr>",f=0),active=x===v.month()&&C===v.year()&&d+1===v.date()?"btn btn-xs btn-default active":"",g+='<td><a class="'+active+'" href="#">'+(d+1)+"</a></td>",f++;for(d=c.day();6>d;d++)g+="<td></td>",f++;g+="</tr>",A.html(jQuery(g)),A.find("a").click(e)}function b(){y=jQuery('<div class="popover bottom datetime-popover"><div class="arrow"></div><div class="popover-title text-center"><a data-id="previous-btn" class="btn btn-xs btn-default" href="#"><span class="glyphicon glyphicon-chevron-left"></span></a><h3 class="panel-title"></h3><a data-id="next-btn" class="btn btn-xs btn-default" href="#"><span class="glyphicon glyphicon-chevron-right"></span></a></div><div data-id="date-content" class="popover-content"><table class="table table-condensed table-striped"><thead><tr></tr></thead><tbody></tbody></table></div><div data-id="time-content" class="popover-content"><div class="col-md-4 text-center"><button class="btn btn-default" data-id="hour-up-btn"><span class="glyphicon glyphicon-chevron-up"></span></button><input class="form-control" data-id="hour-input"><button class="btn btn-default" data-id="hour-down-btn"><span class="glyphicon glyphicon-chevron-down"></span></button></div><div class="col-md-4 text-center"><button class="btn btn-default" data-id="minute-up-btn"><span class="glyphicon glyphicon-chevron-up"></span></button><input class="form-control" data-id="minute-input"><button class="btn btn-default" data-id="minute-down-btn"><span class="glyphicon glyphicon-chevron-down"></span></button></div><div class="col-md-4 text-center"><button class="btn btn-default" data-id="second-up-btn"><span class="glyphicon glyphicon-chevron-up"></span></button><input class="form-control" data-id="second-input"><button class="btn btn-default" data-id="second-down-btn"><span class="glyphicon glyphicon-chevron-down"></span></button></div><button class="btn btn-default btn-xs pull-right" data-id="done-btn">'+G+'</button><div class="clearfix"></div></div><div class="panel-footer"><a data-id="today-btn" class="btn btn-xs btn-default" href="#">'+I+'</a><a data-id="now-btn" class="btn btn-xs btn-default" href="#">'+H+'</a><div data-id="datetime-btns" class="btn-group btn-group-xs pull-right"><a data-id="date-btn" class="btn btn-default active" href="#"><span class="glyphicon glyphicon-calendar"></span></a><a data-id="time-btn" class="btn btn-default" href="#"><span class="glyphicon glyphicon-time"></span></a></div><div class="clearfix"></div></div></div>'),y.find('[data-id="previous-btn"]').click(p),y.find('[data-id="next-btn"]').click(i),y.find('[data-id="today-btn"]').click(s),y.find('[data-id="done-btn"]').click(f),y.find('[data-id="hour-up-btn"], [data-id="minute-up-btn"], [data-id="second-up-btn"]').click(m),y.find('[data-id="hour-input"], [data-id="minute-input"], [data-id="second-input"]').change(k),y.find('[data-id="hour-down-btn"], [data-id="minute-down-btn"], [data-id="second-down-btn"]').click(l),y.find('[data-id="now-btn"]').click(j),y.find('[data-id="date-btn"]').click(d),y.find('[data-id="time-btn"]').click(r);var a=y.find(".popover-content > table > thead > tr");for(var b in moment.weekdaysShort())a.append(jQuery("<th>"+moment.weekdaysShort()[b]+"</th>"));B=y.find(".panel-title"),A=y.find(".popover-content > table > tbody")}function c(){y.find('[data-id="date-btn"]').removeClass("active"),y.find('[data-id="time-btn"]').addClass("active"),y.find('.popover-title, [data-id="date-content"], [data-id="today-btn"]').hide(),y.find('[data-id="time-content"], [data-id="now-btn"]').show(),v||(v=moment(w.val())),v.isValid()||(v=moment()),jQuery('[data-id="hour-input"]').val(v.hour()),jQuery('[data-id="minute-input"]').val(v.minute()),jQuery('[data-id="second-input"]').val(v.second())}function d(b){b.preventDefault();var c=jQuery(this);c.hasClass("active")||(a(v),c.siblings(".active").removeClass("active"),c.addClass("active"))}function e(a){a.preventDefault();var b=parseInt(jQuery(this).text()),c=moment(C+"-"+(x+1).toString().lpad("0",2)+"-"+b.toString().lpad("0",2));t(c)}function f(a){a.preventDefault();var b=moment();b.hour(jQuery('[data-id="hour-input"]').val()),b.minute(jQuery('[data-id="minute-input"]').val()),b.second(jQuery('[data-id="second-input"]').val()),u(b)}function g(){y.find('[data-id="datetime-btns"]').hide()}function h(){y.hide(),z=null,v=null}function i(b){b.preventDefault();var c=x+2,d=C;12===x&&(d++,c=0);var e=moment(d.toString().lpad("0",4)+"-"+c.toString().lpad("0",2)+"-01");a(e)}function j(a){a.preventDefault();var b=moment();u(b)}function k(){var a=jQuery(this);a.val(a.val().match(/\d*\.?\d+/))}function l(a){a.preventDefault();var b=jQuery(this),c=null,d=60;switch(b.data("id")){case"hour-down-btn":c=jQuery('[data-id="hour-input"]'),d=24;break;case"minute-down-btn":c=jQuery('[data-id="minute-input"]');break;default:c=jQuery('[data-id="second-input"]')}var e=parseInt(c.val());c.val(isNaN(e)||0===e?d:--e)}function m(a){a.preventDefault();var b=jQuery(this),c=null,d=60;switch(b.data("id")){case"hour-up-btn":c=jQuery('[data-id="hour-input"]'),d=24;break;case"minute-up-btn":c=jQuery('[data-id="minute-input"]');break;default:c=jQuery('[data-id="second-input"]')}var e=parseInt(c.val());c.val(isNaN(e)||e===d?0:++e)}function n(){var a=jQuery(this);if(w=a.parent().prev(),z&&this===z)return void h();z=this,w.parent().after(y);var b=moment(w.val());b.isValid()||(b=moment()),v=b,o(b),y.show()}function o(b){switch(w.data("type")){case"date":g(),a(b);break;case"time":g(),c(b);break;default:q(),a(b)}}function p(b){b.preventDefault();var c=x,d=C;-1==x&&(d--,c=11);var e=moment(d.toString().lpad("0",4)+"-"+c.toString().lpad("0",2)+"-01");a(e)}function q(){y.find('[data-id="datetime-btns"]').show()}function r(a){a.preventDefault();var b=jQuery(this);b.hasClass("active")||(c(v),b.siblings(".active").removeClass("active"),b.addClass("active"))}function s(a){a.preventDefault();var b=moment();t(b)}function t(a){var b=moment(w.val());switch(b.isValid()?(a.hour(b.hour()),a.minute(b.minute()),a.second(b.second())):(a.hour(0),a.minute(0),a.second(0)),v=a,w.data("type")){case"date":w.val(a.format(D));break;case"time":w.val(a.format(F));break;default:w.val(a.format(E))}A.find(".active").removeClass("active"),A.find('a:textEquals("'+a.date()+'")').addClass("active"),"date"===w.data("type")?h():c(v)}function u(a){switch(v||(v=moment(w.val())),v.isValid()&&(v.hour(a.hour()),v.minute(a.minute()),v.second(a.second()),a=v),w.data("type")){case"time":w.val(a.format(F));break;default:w.val(a.format(E))}h()}var v,w,x,y,z,A,B,C,D="YYYY-MM-DD",E="YYYY-MM-DD HH:mm:ss",F="HH:mm:ss";jQuery.expr[":"].textEquals=function(a,b,c){return jQuery(a).text().match("^"+c[3]+"$")},String.prototype.lpad=function(a,b){for(var c=this;c.length<b;)c=a+c;return c};var G="Done",H="Now",I="Today";return b(),jQuery(function(){jQuery("body").append(y)}),bootstrapDateTime={auto:function(){bootstrapDateTime.bind('input[type="date"], input[type="datetime"], input[type="time"]')},bind:function(a){var b=jQuery(a);b.each(function(a,b){b=jQuery(b),b.parent().hasClass("input-group")||b.wrap('<div class="input-group"></div>');var c;switch(b.attr("type")){case"date":b.data("type","date"),c="calendar";break;case"time":b.data("type","time"),c="time";break;default:b.data("type","datetime"),c="calendar"}b.after(jQuery('<div class="input-group-btn"><button class="btn btn-default" type="button"><span class="glyphicon glyphicon-'+c+'"></span></button></div>')),b.parent().find("button").click(n)}),b.attr("type","text")}},window.bootstrapDateTime=bootstrapDateTime,bootstrapDateTime}();