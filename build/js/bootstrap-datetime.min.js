!function(){function a(){var a=jQuery('input[type="date"], input[type="datetime"], input[type="time"]');a.wrap('<div class="input-group"></div>'),a.each(function(a,b){b=jQuery(b);var c;switch(b.attr("type")){case"date":b.data("type","date"),c='<button class="btn btn-default" type="button"><span class="glyphicon glyphicon-calendar"></span></button>';break;case"time":b.data("type","time"),c='<button class="btn btn-default" type="button"><span class="glyphicon glyphicon-time"></span></button>';break;default:b.data("type","datetime"),c='<button class="btn btn-default" type="button"><span class="glyphicon glyphicon-calendar"></span></button>'}b.after(jQuery('<div class="input-group-btn">'+c+"</div>")),b.parent().find("button").click(g)}),a.attr("type","text")}function b(a){m=a.month(),s=a.year();var b=moment(a).startOf("month"),c=moment(a).endOf("month");q.text(moment.months()[m]+" "+s);var e,f=0,g="<tr>";for(e=0;e<b.day();e++)g+="<td></td>",f++;for(e=0;e<c.date();e++)7==f&&(g+="</tr><tr>",f=0),active=m===k.month()&&s===k.year()&&e+1===k.date()?" active":"",g+='<td><a class="btn btn-xs btn-default'+active+'" href="#">'+(e+1)+"</a></td>",f++;for(e=c.day();6>e;e++)g+="<td></td>",f++;g+="</tr>",p.html(jQuery(g)),p.find("a").click(d)}function c(){n=jQuery('<div class="popover bottom datetime-popover"><div class="arrow"></div><div class="popover-title text-center"><h3 class="panel-title"></h3></div><div class="popover-content"><table class="table table-condensed table-striped"><thead></thead><tbody></tbody></table></div><div class="panel-footer"></div></div>');var a=n.find(".popover-title"),b=jQuery('<a class="btn btn-xs btn-default" href="#"><span class="glyphicon glyphicon-chevron-left"></span></a>'),c=jQuery('<a class="btn btn-xs btn-default" href="#"><span class="glyphicon glyphicon-chevron-right"></span></a>');a.prepend(b),a.append(c),b.click(h),c.click(f);var d=n.find(".popover-content > table > thead");for(var e in moment.weekdaysShort())d.append(jQuery("<th>"+moment.weekdaysShort()[e]+"</th>"));r=jQuery('<a class="btn btn-xs btn-default" href="#">'+w+"</a>"),r.click(i);n.find(".panel-footer").append(r);q=n.find(".panel-title"),p=n.find(".popover-content > table > tbody")}function d(a){a.preventDefault();var b=parseInt(jQuery(this).text()),c=moment(s+"-"+(m+1).toString().lpad("0",2)+"-"+b.toString().lpad("0",2));j(c)}function e(){n.hide(),o=null}function f(a){a.preventDefault();var c=m+2,d=s;12===m&&(d++,c=0);var e=moment(d.toString().lpad("0",4)+"-"+c.toString().lpad("0",2)+"-01");b(e)}function g(){if(l=jQuery(this).parent().prev(),o&&this===o)return void e();o=this,l.before(n);var a=moment(l.val());a.isValid()||(a=moment()),k=a,b(a),n.show()}function h(a){a.preventDefault();var c=m,d=s;-1==m&&(d--,c=11);var e=moment(d.toString().lpad("0",4)+"-"+c.toString().lpad("0",2)+"-01");b(e)}function i(a){a.preventDefault();var b=moment();j(b)}function j(a){var b=moment(l.val());switch(b.isValid()?(a.hour(b.hour()),a.minute(b.minute()),a.second(b.second())):(a.hour(0),a.minute(0),a.second(0)),k=a,l.data("type")){case"date":l.val(a.format(t));break;case"time":l.val(a.format(v));break;default:l.val(a.format(u))}p.find(".active").removeClass("active"),p.find('a:textEquals("'+a.date()+'")').addClass("active"),e()}var k,l,m,n,o,p,q,r,s,t="YYYY-MM-DD",u="YYYY-MM-DD HH:mm:ss",v="HH:mm:ss";jQuery.expr[":"].textEquals=function(a,b,c){return jQuery(a).text().match("^"+c[3]+"$")},String.prototype.lpad=function(a,b){for(var c=this;c.length<b;)c=a+c;return c};var w="Today";c(),jQuery(function(){jQuery("body").append(n),a()})}();